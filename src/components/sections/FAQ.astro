---
import { cn } from '../../utils/merge';

interface Props {
  class?: string;
}

const { class: className } = Astro.props;

const faqItems = [
  {
    question: 'What kinds of tasks can Midsphere handle?',
    answer: 'Midsphere can research topics, build websites and apps, create databases, generate media, automate workflows, send emails, manage spreadsheets, and much more. If you can describe it, Midsphere can likely do it — across 500+ integrated platforms.',
  },
  {
    question: 'How is Midsphere different from ChatGPT or Claude?',
    answer: 'Unlike chat-only AI tools, Midsphere is an autonomous agent that takes action. It doesn\'t just answer questions — it connects to your tools (Slack, GitHub, Google Sheets, etc.), executes multi-step workflows, writes and deploys code, and delivers finished results.',
  },
  {
    question: 'Is my data secure?',
    answer: 'Yes. Midsphere uses encrypted connections for all integrations, runs tasks in isolated sandbox environments, and never stores your credentials on our servers. Enterprise customers can use their own E2B sandbox for additional isolation.',
  },
  {
    question: 'How do integrations work?',
    answer: 'Midsphere connects to platforms through secure OAuth and API integrations. You authorize each connector once, and Midsphere can use it across all your tasks. Free plans include 6 connectors, while Pro plans support up to 24.',
  },
  {
    question: 'Can I try Midsphere for free?',
    answer: 'Absolutely. The Free plan gives you 1 task per week with 6 connectors and a 1-hour sandbox — no credit card required. Upgrade to Lite ($9/mo) or Pro ($19/mo) for more tasks, longer sandboxes, and advanced features.',
  },
  {
    question: 'What happens if a task fails?',
    answer: 'Midsphere includes built-in error handling and will retry failed steps automatically. If a task can\'t be completed, you\'ll receive a detailed explanation of what went wrong and suggested next steps. Your task credits are refunded for failed tasks.',
  },
];

export { faqItems };
---

<section id="faq" class={cn('section-divider py-12 lg:py-36', className)} aria-labelledby="faq-heading">
  <div class="mx-auto max-w-3xl px-4 sm:px-6 lg:px-8">
    <div class="mb-12 text-center" data-animate>
      <h2 id="faq-heading" class="text-3xl font-semibold leading-[0.95] tracking-tight sm:text-4xl lg:text-5xl">Frequently asked questions</h2>
      <p class="mx-auto mt-5 max-w-2xl text-base text-dark/60 sm:text-lg">Everything you need to know about Midsphere.</p>
    </div>

    <div class="divide-y divide-dark/[0.06]" data-animate data-delay="1">
      {faqItems.map((item) => (
        <details class="group py-5">
          <summary class="flex cursor-pointer items-center justify-between text-left font-semibold">
            <span>{item.question}</span>
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="shrink-0 ml-4 text-dark/40 transition-transform duration-200 group-open:rotate-180"
              aria-hidden="true"
            >
              <path d="m6 9 6 6 6-6" />
            </svg>
          </summary>
          <p class="mt-3 text-sm leading-relaxed text-dark/60">{item.answer}</p>
        </details>
      ))}
    </div>
  </div>
</section>
